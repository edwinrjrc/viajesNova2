<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

<ui:composition template="/templates/plantillainicio.xhtml">
	<ui:define name="cuerpo">

		<h:form id="idformadmcargaarchivo">
			<h:panelGrid cellpadding="0" cellspacing="0" border="0"
				style="width:100%;">
				<f:facet name="header">
					<h:panelGrid cellpadding="0" cellspacing="0" border="0"
						style="width:100%;text-align:left;" columns="1">
						<h:outputText value="Administrar Carga de Archivos de Proveedor"
							style="Color:#5885BE;" styleClass="subtitulo" />
						<hr style="width: 100%;" />
					</h:panelGrid>
				</f:facet>
				<h:panelGrid cellpadding="0" cellspacing="0" border="0"
					style="width:100%;" columns="1">
					<f:facet name="header">
						<h:panelGrid cellpadding="0" cellspacing="0" border="0"
							style="width:100%;text-align:left;" columns="1">
							<h:outputText value="Filtros de Busqueda" style="Color:#5885BE;" />
							<hr style="width: 100%;" />
						</h:panelGrid>
					</f:facet>

					<h:panelGrid cellpadding="0" cellspacing="0" border="0"
						style="width:100%;" columns="4"
						columnClasses="col1fil1proveedor,col2fil1proveedor,col3fil1proveedor,col4fil1proveedor">

						<h:outputText value="Id" />
						<h:inputText
							value="#{cargaReporteProveedorMBean.reporteArchivoBusqueda.codigoEntero}" />
						<h:outputText value="" />
						<h:outputText value="" />

					</h:panelGrid>
					<h:panelGrid cellpadding="0" cellspacing="0" border="0"
						style="width:100%;" columns="4"
						columnClasses="col1fil1proveedor,col2fil1proveedor,col3fil1proveedor,col4fil1proveedor">

						<h:outputText value="Nombre Reporte" />
						<h:inputText
							value="#{cargaReporteProveedorMBean.reporteArchivoBusqueda.nombreReporte}" />
						<h:outputText value="Proveedor" />
						<h:selectOneMenu id="idSelProveedor"
							value="#{cargaReporteProveedorMBean.reporteArchivoBusqueda.proveedor.codigoEntero}">
							<f:selectItem itemLabel="-Seleccione-" />
							<f:selectItems value="#{catalogoMBean.catalogoProveedores}" />
						</h:selectOneMenu>

					</h:panelGrid>
					<h:panelGrid cellpadding="0" cellspacing="0" border="0"
						style="width:100%;" columns="4"
						columnClasses="col1fil1proveedor,col2fil1proveedor,col3fil1proveedor,col4fil1proveedor">

						<h:outputText value="Fecha Desde" />
						<rich:calendar datePattern="dd/MM/yyyy"
							value="#{cargaReporteProveedorMBean.reporteArchivoBusqueda.fechaDesde}"></rich:calendar>
						<h:outputText value="Fecha Hasta" />
						<rich:calendar datePattern="dd/MM/yyyy"
							value="#{cargaReporteProveedorMBean.reporteArchivoBusqueda.fechaHasta}"></rich:calendar>

					</h:panelGrid>

					<f:facet name="footer">
						<h:panelGrid cellpadding="0" cellspacing="0" border="0"
							style="width:100%;text-align:center;" columns="1">
							<a4j:commandButton value="Buscar" render="idTablaCarga" styleClass="estiloBoton1"
								action="#{cargaReporteProveedorMBean.buscarArchivoCargado()}"></a4j:commandButton>
						</h:panelGrid>
					</f:facet>

				</h:panelGrid>
				<h:panelGrid cellpadding="0" cellspacing="0" border="0"
					style="width:100%;" columns="1">
					<f:facet name="header">
						<h:panelGrid cellpadding="0" cellspacing="0" border="0"
							style="width:100%;text-align:left;" columns="1">
							<h:outputText value="Resultados de Busqueda"
								style="Color:#5885BE;" />
							<hr style="width: 100%;" />
						</h:panelGrid>
					</f:facet>
					<h:outputText value="" />
					<rich:dataTable rows="10" id="idTablaCarga"
						value="#{cargaReporteProveedorMBean.listaReporteBusqueda}"
						var="fila" style="width:100%;">
						<f:facet name="noData">
							<h:outputText value="No se encontraron registros" />
						</f:facet>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Id" />
							</f:facet>
							<h:outputText value="#{fila.codigoEntero}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Nombre Reporte" />
							</f:facet>
							<h:outputText value="#{fila.nombreReporte}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Nombre Archivo" />
							</f:facet>
							<h:outputText value="#{fila.nombreArchivo}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Proveedor" />
							</f:facet>
							<h:outputText value="#{fila.proveedor.nombre}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Número de filas" />
							</f:facet>
							<h:outputText value="#{fila.numeroFilas}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Número de Columnas" />
							</f:facet>
							<h:outputText value="#{fila.numeroColumnas}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Número de Seleccionados" />
							</f:facet>
							<h:outputText value="#{fila.numeroSeleccionados}" />
						</rich:column>
						<rich:column>
							<h:commandButton value="Generar Comprobante" action="#{cargaReporteProveedorMBean.generarComprobante(fila)}" />
						</rich:column>
						<f:facet name="footer">
							<rich:dataScroller for="idTablaCarga"></rich:dataScroller>
						</f:facet>
					</rich:dataTable>
					<h:outputText value="" />
				</h:panelGrid>

				<f:facet name="footer">
					<h:panelGrid cellpadding="0" cellspacing="0" border="0"
						style="width:100%;text-align:center;" columns="1">
						<br />
						<a4j:commandButton value="Cargar Archivo"
							render="idPgrCargaDeudas" styleClass="estiloBoton1"
							action="#{cargaReporteProveedorMBean.iniciarCargaArchivo()}"
							oncomplete="#{rich:component('idModalCargaDeuda')}.show();"></a4j:commandButton>
						<a4j:commandButton id="idBotonModalCorrecto" style="display:none;"
							type="button"
							oncomplete="#{rich:component('idModalcorrecto')}.show();" />
						<a4j:commandButton id="idBotonModalError" style="display:none;"
							type="button"
							oncomplete="#{rich:component('idModalError')}.show();" />
					</h:panelGrid>
				</f:facet>
			</h:panelGrid>
		</h:form>
		<ui:include
			src="/paginas/negocio/cargareporteproveedor/cargadeudas.xhtml" />
		<ui:include src="/resources/includes/includemensaje.xhtml">
			<ui:param name="backBean" value="#{cargaReporteProveedorMBean}" />
			<ui:param name="idModalForm" value="idModalCargaDeuda" />
			<ui:param name="idrender" value="idTablaCarga" />
		</ui:include>
		<script type="text/javascript">
		mostrarModal('idformadmcargaarchivo');
		</script>
	</ui:define>
</ui:composition>
</html>